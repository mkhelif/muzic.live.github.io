BEGIN:VEVENT
UID:{{ hash.XxHash .event.RelPermalink }}
{{ $eventDate := .event.Params.eventDate | time.AsTime -}}
DTSTAMP:{{ partial "calendar/time.ics" $eventDate }}
DTSTART:{{ partial "calendar/time.ics" $eventDate }}
{{ $artistsCount := printf "%dh" (cond (.event.Param "artists") (.event.Params.artists | len) 0) -}}
{{ $duration := time.ParseDuration $artistsCount -}}
DTEND:{{ partial "calendar/time.ics" ($eventDate.Add $duration) }}
SUMMARY:{{ .title }} : {{ partial "calendar/artists.ics" .event }}
DESCRIPTION:{{ .title }} : {{ partial "calendar/artists.ics" .event }}
LOCATION:{{- partial "calendar/location.ics" .event }}
{{ partial "calendar/alarm.ics" .event }}
{{ partial "calendar/outlook.ics" .event }}
END:VEVENT
